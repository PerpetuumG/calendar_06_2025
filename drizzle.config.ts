import { defineConfig } from 'drizzle-kit';

// üîç –ü–æ–ª—É—á–∏—Ç—å URL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã
const databaseUrl = process.env.DATABASE_URL;

// ‚ùå –ï—Å–ª–∏ URL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω, –≤—ã–¥–∞—Ç—å –æ—à–∏–±–∫—É, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É.
if (!databaseUrl) {
  throw new Error('‚ùå DATABASE_URL is not defined in environment variables.');
}

// ‚úÖ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Drizzle —Å –ø–æ–º–æ—â—å—é –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ defineConfig
export default defineConfig({
  // üìÅ –ü—É—Ç—å –∫ –≤–∞—à–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º —Å—Ö–µ–º—ã (Drizzle ORM –ø—Ä–æ—Å–∫–∞–Ω–∏—Ä—É–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª)
  schema: './drizzle/schema.ts',

  // üóÉÔ∏è –ö–∞—Ç–∞–ª–æ–≥, –≤ –∫–æ—Ç–æ—Ä—ã–π Drizzle –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å —Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–∏
  out: './drizzle/migrations',

  // üß† –£–∫–∞–∂–∏—Ç–µ, –∫–∞–∫–æ–π –¥–∏–∞–ª–µ–∫—Ç SQL –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, PostgreSQL, MySQL)
  dialect: 'postgresql',

  // üîí –í–∫–ª—é—á–∏—Ç–µ —Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Ç–∏–ø–æ–≤–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
  strict: true,

  // üóØÔ∏è –í–∫–ª—é—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤–æ –≤—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–∏–π CLI.
  verbose: true,

  // üîê –ü–µ—Ä–µ–¥–∞—á–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)
  dbCredentials: {
    // ‚úÖ –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ –≤—ã—à–µ, —á—Ç–æ –æ–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ.
    url: databaseUrl,
  },
});
